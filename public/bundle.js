(()=>{"use strict";var e={129:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.initializeCanvas=function(e,t){t.font="16px Arial",(0,r.renderText)(t),(0,i.drawCursor)(t,{x:10,y:20}),window.addEventListener("resize",(function(){e.width=.8*window.innerWidth,e.height=.8*window.innerHeight,(0,r.renderText)(t),(0,i.drawCursor)(t,{x:10,y:20})}))};var r=n(685),i=n(647)},647:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.drawCursor=function(e,t){n=t,e.fillRect(n.x,n.y-15,2,20)},t.updateCursorPosition=function(e,t){var r=e[e.length-1];n.x=10+t.measureText(r).width,n.y=20+20*(e.length-1)};var n={x:10,y:20}},685:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.renderText=function(e){var t=(0,r.getTextLines)();e.clearRect(0,0,e.canvas.width,e.canvas.height),t.forEach((function(t,n){e.fillText(t,10,20+20*n)})),(0,i.drawCursor)(e,{x:10+e.measureText(t[t.length-1]).width,y:20+20*(t.length-1)})};var r=n(832),i=n(647)},426:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.initializeKeyboardEvents=function(e){document.addEventListener("keydown",(function(t){var n=e.getContext("2d");if(n){var o=(0,r.getTextLines)();switch(t.key){case"Enter":(0,r.addNewLine)();break;case"Backspace":if(0===o[o.length-1].length&&o.length>1)(0,r.mergeLine)(o.length-1);else{var s=o.length-1;(0,r.removeLastCharacter)(s)}break;default:var d=o.length-1;(0,r.addText)(d,t.key)}(0,a.updateCursorPosition)(o,n),(0,i.renderText)(n)}else console.error("Failed to get 2D context")}))};var r=n(832),i=n(685),a=n(647)},832:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addNewLine=function(){n.push("")},t.splitLineAtIndex=function(e,t){var r=n[e],i=r.substring(0,t),a=r.substring(t);n[e]=i,n.splice(e+1,0,a)},t.mergeLine=function(e){e>0&&(n[e-1]+=n[e],n.splice(e,1))},t.getTextLines=function(){return n},t.addText=function(e,t){n[e]+=t},t.removeLastCharacter=function(e){n[e]=n[e].slice(0,-1)};var n=[""]}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}(()=>{var e=n(129),t=n(426),r=document.getElementById("textEditorCanvas");if(r){var i=r.getContext("2d");i?((0,e.initializeCanvas)(r,i),(0,t.initializeKeyboardEvents)(r)):console.error("Failed to get 2D context")}else console.error("Canvas element not found")})()})();